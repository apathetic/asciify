<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Asciify.</title>
  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/ico" href="favicon.ico">

  <!-- demo stuffs -->
  <link rel="stylesheet" href="https://apathetic.github.io/showcase/assets/css/main.min.css">
  <script src="https://rawgit.com/apathetic/stickynav/master/dist/stickyNav.js"></script>
  <script src="prism.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      new stickyNav({ nav: '#sticky' });
    });
  </script>
  <!-- end demo stuffs -->


  <script src="../dist/asciify.js"></script>
  <!-- <script src="../dist/demo.js"></script> -->
  <!-- <script src="asciify.js"></script> -->
  <style>
    img, video { display:block; max-width:640px; }
    .video-wrap pre { margin:0 !important; border:0; }
  </style>

</head>
<body>

  <header class="condensed align-center">
    <h1>Asciify.</h1>
  </header>

  <nav>
    <div id="sticky">
      <div class="container">
        <nav data-autogenerate="true">
          <ul></ul>
        </nav>
      </div>
    </div>
  </nav>

  <main class="component left-rail">

    <section data-nav="About" id="about">
      <div class="container">
        <h2>About</h2>
        <p>Turn any images, videos, or elements with a background-image into crappy lo-fi ascii art. Your site will be faster and more user-friendly as a result. Which equals more users and big dollars. Everyone wins!</p>
        <p>While you're at it, for maximum optimization you can also take advantage of a few of the bundled features, which strip out all these "new-fangled" browser enhancements, such as border-radius, custom fonts, and color.</p>
      </div>
    </section>

    <section data-nav="Demo" id="demo">
      <div class="container">
        <h2>Demo</h2>

        <!-- <h3>Commands:</h3>
        <ul>
          <li>"ascii"</li>
          <li>"clippy"</li>
          <li>"sepia"</li>
          <li>"monochrome"</li>
          <li>"acid"</li>
          <li>"seasick"</li>
        </ul> -->

        <p>
          <!-- https://c2.staticflickr.com/4/3825/10538921244_4f214545b7_c -->
          <img src="images/car.jpg" alt="car" id="car">
          <button data-asciify="#car" class="button button--default">ASCIIFY</button>
        </p>

        <div id="lady" style="background: url(https://c2.staticflickr.com/6/5180/5388135593_36074cd26d_z.jpg); width:640px; height:400px; background-size:cover"></div>
        <button data-asciify="#lady" class="button button--default">ASCIIFY</button>

        <div class="video-wrap">
          <video id="vid" width="640" height="360" controls autoplay loop>
            <source src="vid.mp4" type="video/mp4">
              <source src="vid.webm" type="video/webm">
              <!-- <source src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4" type="video/mp4"> -->
              <!-- <source src="http://clips.vorwaerts-gmbh.de/VfE.webm" type="video/webm"> -->
              <!-- <source src="http://clips.vorwaerts-gmbh.de/VfE.ogv" type="video/ogg"> -->
          </video>
        </div>
        <button data-asciify="#vid" class="button button--default">ASCIIFY</button>

      </div>
    </section>

    <section data-nav="Code" id="code">
      <div class="container">
        <h2>Code</h2>

        <pre><code class="language-javascript">
// Works on images:
var image = document.querySelector('#image');
new Asciify(image);

// Works on background images:
var bg = document.querySelector('[style*="background"]');
new Asciify(image);

// WORKS ON VIDEO
var vid = document.querySelector('video');  // (HTML5)
new Asciify(vid);
// note: for now, you'll need to wrap the &lt;video> in a &lt;div>
        </code></pre>
      </div>
    </section>
  </main>


  <script>
    Array.from(document.querySelectorAll('button'), function(button) {
      var target = document.querySelector(button.getAttribute('data-asciify'));
      if (target) {
        button.addEventListener('click', function convert() {
          new Asciify(target);
          button.removeEventListener('click', convert);
          button.innerHTML = 'Optimized!';
          button.classList.remove('button--default');
        });
      }
    });
  </script>

</body>
</html>
