!function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=a(1),i=n(o),r=a(2),c=n(r);c["default"].push({name:"ascii",code:[65,83,67,73,73],action:function(){console.log("YASS");var e=document.querySelectorAll("img"),t=document.querySelectorAll('[style*="background"]'),a=document.querySelectorAll("video");Array.from(e,function(e){new i["default"](e)}),Array.from(t,function(e){new i["default"](e)}),Array.from(a,function(e){new i["default"](e)})}})},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(){function e(t){switch(a(this,e),this.elem=t,this.baseCharWidth=9,this.calculateCharSize(),t.nodeName.toLowerCase()){case"img":this.processImage();break;case"video":this.processVideo();break;default:this.processBackground()}}return n(e,[{key:"calculateCharSize",value:function(){var e=document.createElement("pre"),t={w:void 0,h:void 0};e.textContent="O",e.style.fontSize=this.baseCharWidth+"px",e.style.lineHeight="1em",e.style.position="absolute",document.body.appendChild(e),t.w=e.getBoundingClientRect().width,t.h=e.getBoundingClientRect().height,document.body.removeChild(e),this.charSize=t}},{key:"createCanvas",value:function(e,t){var a=document.createElement("canvas");return a.width=e,a.height=t,a}},{key:"convertToASCII",value:function(e){var t,a,n,o=e.naturalWidth,i=e.naturalHeight;this.canvas=this.createCanvas(o,i),this.context=this.canvas.getContext("2d"),this.context.drawImage(e,0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#fff",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.baseCharWidth+"px monospace",this.context.fillStyle="#000";var r=this.canvas.width/this.charSize.w,c=this.canvas.height/this.charSize.h,s=this.createCanvas(r,c),l=s.getContext("2d");l.drawImage(e,0,0,r,c),n=l.getImageData(0,0,r,c).data;for(var d=0,u=0;c>u;u++){t="";for(var h=0;r>h;h++)a=this.colorToChar(n[d],n[d+1],n[d+2]),t+=a,d+=4;this.context.fillText(t,0,u*this.charSize.h)}}},{key:"colorToChar",value:function(e,t,a){var n=3*e+4*t+a>>>3;return"@GLftli;:,. "[Math.floor(n/256*12)]}},{key:"processImage",value:function(){var e=this,t=this.elem.src;this.getImageData(t).then(function(t){e.convertToASCII(t),e.elem.src=e.canvas.toDataURL()})}},{key:"processBackground",value:function(){var e=this,t=this.elem.style.backgroundImage.slice(4,-1).replace(/['"]+/g,"");this.getImageData(t).then(function(t){e.convertToASCII(t),e.elem.style.backgroundImage="url("+e.canvas.toDataURL()+")"})}},{key:"getImageData",value:function(e){return new Promise(function(t,a){var n=new Image;n.addEventListener("load",function(){t(n)}),n.crossOrigin="",n.src=e})}},{key:"processVideo",value:function(){function e(){a=Math.floor(i.clientWidth/r.charSize.w),n=Math.floor(i.clientHeight/r.charSize.h),c.width=a,c.height=n,t(i,o,s,a,n)}function t(e,a,n,o,i){var c,s=[];if(e.paused||e.ended)return!1;n.drawImage(e,0,0,o,i),c=n.getImageData(0,0,o,i).data;for(var l=0;i>l;l++){for(var d=0;o>d;d++){var u=4*(l*o+d);s.push(r.colorToChar(c[u],c[u+1],c[u+2]))}s.push("<br>")}a.innerHTML=s.join(""),setTimeout(t,50,e,a,n,o,i)}var a,n,o,i=this.elem,r=this,c=document.createElement("canvas"),s=c.getContext("2d");o=document.createElement("pre"),o.style.fontFamily="monospace",o.style.fontSize=this.baseCharWidth+"px",o.style.position="absolute",o.style.top="100px",i.style.opacity=0,i.parentNode.insertBefore(o,i.nextSibling),i.addEventListener("play",e,!1),i.paused||e()}}]),e}();t["default"]=o},function(e,t){"use strict";function a(){var e,t=[],a=1;window.document.addEventListener("keydown",function n(i){if(t.length){for(e=t.length;e--;)i.keyCode===t[e].code[a]?a===t[e].code.length-1&&(window.document.removeEventListener("keydown",n),t[e].action.call(),t=[]):t.splice(e,1);a=t.length?a+1:1}else for(e=o.length;e--;)i.keyCode===o[e].code[0]&&t.push(o[e])})}function n(){var e,t,a;e=t=a=0,window.document.addEventListener("click",function(){e||(e=new Date),a=++t/(new Date-e)*1e3,t>4&&a>1&&(console.log("super click secret activate"),o[Math.floor(Math.random()*o.length)].action.call(),e=t=0)})}Object.defineProperty(t,"__esModule",{value:!0});var o=[];o.push({name:"monochrome",code:[77,79,78,79,67,72,82,79,77,69],action:function(){console.log("activating monochrome...");var e=document.createElement("style");e.innerHTML="body { -webkit-filter: grayscale(100%);  -moz-filter: grayscale(100%); -ms-filter: grayscale(100%); -o-filter: grayscale(100%); filter: grayscale(100%); filter: gray; }",document.head.appendChild(e)}}),o.push({name:"sepia",code:[83,69,80,73,65],action:function(){console.log("activating sepia...");var e=document.createElement("style");e.innerHTML="body { -webkit-filter: sepia(100%);  -moz-filter: sepia(100%); -ms-filter: sepia(100%); -o-filter: sepia(100%); filter: sepia(100%); filter: sepia; }",document.head.appendChild(e)}}),o.push({name:"acid",code:[65,67,73,68],action:function(){}}),o.push({name:"seasick",code:[83,69,65,83,73,67,75],action:function(){console.log("activating seasick...");var e=void 0,t=void 0,a=void 0,n=void 0;e=document.createElement("style"),t=document.createTextNode("@keyframes seasick {0%   { transform: translateY(0) }50%  { transform: translateY(-10px) }100% { transform: translateY(0) }}"),a=document.createTextNode("p { animation: seasick 5s infinite }"),n=document.createTextNode("p:nth-child(even) { animation-delay: 1.5s }"),e.appendChild(t),e.appendChild(a),e.appendChild(n),document.head.appendChild(e)}}),a(),n(),t["default"]=o}]);